
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>&lt;no title&gt; &#8212; UN45  documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="docutils container" id="page">
<div class="aui-page-panel docutils container" id="main">
<div class="docutils container" id="main-header">
<div class="docutils container" id="breadcrumb-section">
<ol class="arabic simple">
<li><a class="reference external" href="index.html">Unravel 4.4</a></li>
<li><a class="reference external" href="Unravel-4.4_541197025.html">Unravel 4.4</a></li>
<li><a class="reference external" href="Installation-Guides_541393730.html">Installation
Guides</a></li>
<li><a class="reference external" href="541361096.html">Cloudera Distribution Including Apache Hadoop (CDH),
with Cloudera Manager (CM)</a></li>
</ol>
</div>
<p class="pagetitle rubric" id="title-heading">Unravel 4.4 : Step 1: Install Unravel Server on
CDH+CM</p>
</div>
<div class="view docutils container" id="content">
<div class="page-metadata docutils container">
Created by katch, last modified by Sam Lachterman on Nov 02,
2018</div>
<div class="wiki-content group docutils container" id="main-content">
<div class="panel docutils container">
<div class="panelheader docutils container">
<strong>Table of Contents</strong></div>
<div class="panelcontent docutils container">
<div class="toc-macro rbtoc1541196937144 docutils container">
<ul class="simple">
<li><a class="reference external" href="#Step1:InstallUnravelServeronCDH+CM-Introduction">Introduction</a></li>
<li><a class="reference external" href="#Step1:InstallUnravelServeronCDH+CM-Pre-InstallationCheck">Pre-Installation
Check</a><ul>
<li><a class="reference external" href="#Step1:InstallUnravelServeronCDH+CM-PlatformCompatibility">Platform
Compatibility</a></li>
<li><a class="reference external" href="#Step1:InstallUnravelServeronCDH+CM-Hardware">Hardware</a></li>
<li><a class="reference external" href="#Step1:InstallUnravelServeronCDH+CM-Software">Software</a></li>
<li><a class="reference external" href="#Step1:InstallUnravelServeronCDH+CM-AccessPermissions">Access
Permissions</a></li>
<li><a class="reference external" href="#Step1:InstallUnravelServeronCDH+CM-Network">Network</a></li>
</ul>
</li>
<li><a class="reference external" href="#Step1:InstallUnravelServeronCDH+CM-1.ConfiguretheHostMachine">1. Configure the Host
Machine</a><ul>
<li><a class="reference external" href="#Step1:InstallUnravelServeronCDH+CM-AllocateaClusterGateway/Edge/ClientHostwithHDFSAccess">Allocate a Cluster Gateway/Edge/Client Host
with HDFS
Access</a></li>
</ul>
</li>
<li><a class="reference external" href="#Step1:InstallUnravelServeronCDH+CM-2.InstalltheUnravelServerRPMontheHostMachine">2. Install the Unravel Server RPM on the Host
Machine</a><ul>
<li><a class="reference external" href="#Step1:InstallUnravelServeronCDH+CM-GettheUnravelServerRPM">Get the Unravel Server
RPM</a></li>
<li><a class="reference external" href="#Step1:InstallUnravelServeronCDH+CM-Makesymlinksifrequired">Make symlinks if
required</a></li>
<li><a class="reference external" href="#Step1:InstallUnravelServeronCDH+CM-InstalltheUnravelServerRPM">Install the Unravel Server
RPM</a></li>
<li><a class="reference external" href="#Step1:InstallUnravelServeronCDH+CM-DoHost-SpecificPost-InstallationActions">Do Host-Specific Post-Installation
Actions</a></li>
</ul>
</li>
<li><a class="reference external" href="#Step1:InstallUnravelServeronCDH+CM-3.ConfigureUnravelServer(Basic/CoreOptionalforCDH)">3. Configure Unravel Server (Basic/Core
Optional for
CDH)</a><ul>
<li><a class="reference external" href="#Step1:InstallUnravelServeronCDH+CM-EnableOptionalDaemons">Enable Optional
Daemons</a></li>
<li><a class="reference external" href="#Step1:InstallUnravelServeronCDH+CM-IfKerberosisEnabled:">If Kerberos is
Enabled:</a></li>
<li><a class="reference external" href="#Step1:InstallUnravelServeronCDH+CM-IfSentryisEnabled:">If Sentry is
Enabled:</a></li>
<li><a class="reference external" href="#Step1:InstallUnravelServeronCDH+CM-SwitchUser">Switch
User</a></li>
<li><a class="reference external" href="#Step1:InstallUnravelServeronCDH+CM-HiveMetastoreAccess">Hive Metastore
Access</a></li>
<li><a class="reference external" href="#Step1:InstallUnravelServeronCDH+CM-RestartUnravelServer">Restart Unravel
Server</a></li>
</ul>
</li>
<li><a class="reference external" href="#Step1:InstallUnravelServeronCDH+CM-4.LogintoUnravelWebUI">4. Log into Unravel Web
UI</a><ul>
<li><a class="reference external" href="#Step1:InstallUnravelServeronCDH+CM-Congratulations!">Congratulations!</a></li>
</ul>
</li>
<li><a class="reference external" href="#Step1:InstallUnravelServeronCDH+CM-5.(Optional)ConfigureUnravelServer(AdvancedOptions)">5. (Optional) Configure Unravel Server
(Advanced
Options)</a><ul>
<li><a class="reference external" href="#Step1:InstallUnravelServeronCDH+CM-EnableAdditionalDataCollection/Instrumentation">Enable Additional Data
Collection/Instrumentation</a></li>
<li><a class="reference external" href="#Step1:InstallUnravelServeronCDH+CM-RuntheUnravelWebUIConfigurationWizard">Run the Unravel Web UI Configuration
Wizard</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<p class="rubric" id="step1-installunravelserveroncdh-cm-introduction">Introduction</p>
<p>This topic explains how to deploy Unravel Server 4.4 on a
CDH gateway/edge node. For instructions that correspond to
older versions of Unravel Server, contact Unravel Support.</p>
<div class="panel docutils container">
<div class="panelheader docutils container">
<strong>Workflow Summary</strong></div>
<div class="panelcontent docutils container">
<ol class="arabic simple">
<li>Pre-installation check</li>
<li>Configure the host machine.</li>
<li>Install the Unravel Server RPM on the host machine.</li>
<li>Configure Unravel Server (basic/core options).</li>
<li>Log into Unravel Web UI.</li>
<li>(Optional) Configure Unravel Server (advanced
options).</li>
</ol>
</div>
</div>
<p class="rubric" id="step1-installunravelserveroncdh-cm-pre-installationcheck">Pre-Installation Check</p>
<p>The following installation requirements must be met for
successful installation of Unravel.</p>
<p class="rubric" id="step1-installunravelserveroncdh-cm-platformcompatibility">Platform Compatibility</p>
<ul class="simple">
<li>CDH 5.4 - 5.14</li>
<li>Hadoop 1.x - 2.x</li>
<li>Kafka 0.9, 0.10, 0.11, and 1.0&nbsp;(Apache ver. equiv.)</li>
<li>Kerberos</li>
<li>Hive 0.9.x - 1.2.x</li>
<li>Spark 1.3.x - 2.2.x</li>
</ul>
<p class="rubric" id="step1-installunravelserveroncdh-cm-hardware">Hardware</p>
<ul class="simple">
<li>Architecture: x86_64</li>
<li>Cores: 8</li>
<li>RAM: 64GB minimum, 128GB for medium volume (&gt;25,000 jobs
per day), 256GB for high volume (&gt;50,000 jobs per day)</li>
<li>Disk: <code class="docutils literal notranslate"><span class="pre">/usr/local/unravel</span></code>&nbsp;with 8GB free minimum (can
be symlink)</li>
<li>Disk: <code class="docutils literal notranslate"><span class="pre">/srv/unravel</span></code> with 500GB free minimum (can be
symlink)</li>
<li>For 60,000+ MR jobs per day, two or more gateway/edge
nodes are recommended (“multi-host Unravel”)</li>
</ul>
<p class="rubric" id="step1-installunravelserveroncdh-cm-software">Software</p>
<ul class="simple">
<li>Operating System: RedHat/Centos 6.4 - 7.4</li>
<li><code class="docutils literal notranslate"><span class="pre">libaio.x86_64</span></code> installed</li>
<li><code class="docutils literal notranslate"><span class="pre">SELINUX=permissive</span></code>&nbsp;(or disabled) should be set in
<code class="docutils literal notranslate"><span class="pre">/etc/selinux/config</span></code></li>
<li>HDFS+Hive+YARN+Spark Unravel host should be a
client/gateway (Hadoop and Hive commands in <code class="docutils literal notranslate"><span class="pre">PATH)</span></code></li>
<li>If Spark2 service is installed, Unravel host should be a
client/gateway</li>
<li>LDAP (AD or Open LDAP) compatible for Unravel Web UI user
authentication (Open signup by default)</li>
<li>On Unravel Edge-node server, please&nbsp;<strong>do not</strong>&nbsp;have
zookeeper installed in same server</li>
<li>NTP should be running and in-sync with the cluster</li>
</ul>
<p class="rubric" id="step1-installunravelserveroncdh-cm-accesspermissions">Access Permissions</p>
<ul class="simple">
<li>Local user unravel:unravel is created during
installation, but can be changed later</li>
<li>If Kerberos is in use, a keytab&nbsp;for an Unravel Kerberos
principal is required for access to:<ul>
<li>Access to YARN’s “done dir” in HDFS</li>
<li>Access to YARN’s log aggregation directory in HDFS</li>
<li>Access to Spark event log&nbsp;directory in HDFS</li>
<li>Access to file sizes under HIve warehouse directory</li>
</ul>
</li>
<li>Access to YARN Resource Manager REST API<ul>
<li>principal needs right to find out which RM is active</li>
</ul>
</li>
<li>JDBC access to the Hive Metastore (read-only user is
sufficient)</li>
<li>For Impala support, a read-only account for Cloudera
Manager API is needed</li>
</ul>
<p class="rubric" id="step1-installunravelserveroncdh-cm-network">Network</p>
<ul class="simple">
<li>Port 3000 from users and entire cluster to Unravel Web UI</li>
<li>HDFS ports open from Hadoop cluster to Unravel Server(s)</li>
<li>For YARN, Hive Metadata DB port open to Unravel Server(s)
for partition reporting</li>
<li>UDP and TCP port 4043 open from entire cluster to Unravel
Server(s)</li>
<li>For Oozie, port 11000 open from Unravel Server(s) to the
Oozie server</li>
<li>Resource Manager (RM) port 8032 from&nbsp;Unravel Server(s) to
the RM server(s)</li>
<li>Cloudera Manager (CM) port 7180 (or 7183 for HTTPS) from
Unravel Server(s) to CM</li>
<li>Port 4020, 4176, 4181 through 4189,&nbsp;3316, 4091 must be
available for localhost communication between Unravel
daemons or Unravel servers (if multi-host Unravel
installation)</li>
</ul>
<p class="rubric" id="step1-installunravelserveroncdh-cm-1-configurethehostmachine">1. Configure the Host Machine</p>
<p class="rubric" id="step1-installunravelserveroncdh-cm-allocateaclustergateway-edge-clienthostwithhdfsaccess">Allocate a Cluster Gateway/Edge/Client Host with
HDFS Access</p>
<p>Use Cloudera Manager to create the gateway configuration for
the Unravel server(s) that has client roles for HDFS, YARN,
Spark, Hive, and optionally Spark2.</p>
<p class="rubric" id="step1-installunravelserveroncdh-cm-2-installtheunravelserverrpmonthehostmachine">2. Install the Unravel Server RPM on the Host
Machine</p>
<p class="rubric" id="step1-installunravelserveroncdh-cm-gettheunravelserverrpm">Get the Unravel Server RPM</p>
<p>See <a class="reference external" href="https://unraveldata.atlassian.net/wiki/spaces/UNDOCS/pages/226132074/Download+Unravel+Software+Versions">Download Unravel
Software</a>.</p>
<p class="rubric" id="step1-installunravelserveroncdh-cm-makesymlinksifrequired">Make symlinks if required</p>
<p>If you want the two disk areas used by Unravel to be on
different volumes, you can make symlinks to specific areas
before installing (or do
a&nbsp;<code class="docutils literal notranslate"><span class="pre">mv</span></code>&nbsp;and&nbsp;<code class="docutils literal notranslate"><span class="pre">symlink</span></code>&nbsp;symlink after installing).
Do it before the first install if there is insufficient
space on the target
paths&nbsp;<code class="docutils literal notranslate"><span class="pre">/usr/local/unravel&nbsp;``\</span> <span class="pre">and&nbsp;\</span> <span class="pre">``/srv/unravel</span></code>&nbsp;noted
above.</p>
<p class="rubric" id="step1-installunravelserveroncdh-cm-installtheunravelserverrpm">Install the Unravel Server RPM</p>
<div class="docutils container">
<div class="code panel pdl docutils container">
<div class="codecontent panelcontent pdl docutils container">
</div>
</div>
</div>
<p>The precise filename can vary, depending on how it was
fetched or copied. The&nbsp;<code class="docutils literal notranslate"><span class="pre">rpm</span></code>&nbsp;command does not require
.<code class="docutils literal notranslate"><span class="pre">rpm</span></code>&nbsp;suffix. The flag&nbsp;<code class="docutils literal notranslate"><span class="pre">-U</span></code>&nbsp;works for either
initial install or upgrade.</p>
<p>Run the specified&nbsp;<code class="docutils literal notranslate"><span class="pre">await_fixups.sh</span></code>&nbsp; script to make sure
background processing is finished before you do other steps.
In a routine upgrade, it is okay to start all Unravel
daemons, but do not stop or restart them until
the&nbsp;<code class="docutils literal notranslate"><span class="pre">await_fixups.sh</span></code>&nbsp; prints&nbsp;<code class="docutils literal notranslate"><span class="pre">DONE</span></code>&nbsp;(it takes a few
minutes).</p>
<div class="docutils container">
<p>confluence-information-macro confluence-information-macro-information</p>
<blockquote>
<div><div class="confluence-information-macro-body docutils container">
<div class="line-block">
<div class="line">The installation
creates&nbsp;<code class="docutils literal notranslate"><span class="pre">/usr/local/unravel/</span></code> which contains
the executables, scripts, and settings.
User&nbsp;<code class="docutils literal notranslate"><span class="pre">unravel</span></code> is created. The initial
internal database and other durable state are put
in&nbsp;<code class="docutils literal notranslate"><span class="pre">/srv/unravel/</span></code> for larger storage.</div>
<div class="line">The master configuration file is
in&nbsp;<code class="docutils literal notranslate"><span class="pre">/usr/local/unravel/etc/unravel.properties</span></code>
and the logs are in <code class="docutils literal notranslate"><span class="pre">/usr/local/unravel/logs/</span></code>.
The RPM installation creates user&nbsp;<code class="docutils literal notranslate"><span class="pre">unravel</span></code>
if it does not already exist and this can be
changed after
installation;&nbsp;<code class="docutils literal notranslate"><span class="pre">/etc/init.d/unravel_*</span></code> scripts
for controlling its services as well
as&nbsp;<code class="docutils literal notranslate"><span class="pre">/etc/init.d/unravel_all.sh</span></code> which can be
used to manually stop, start, and get status of
all daemons in proper order.</div>
<div class="line">During initial install, a bundled database is
used.&nbsp;This can be switched to use an <a class="reference external" href="Installing-MySQL-or-Compatible-Database-for-Unravel_541131376.html">externally
managed
MySQL</a>
for production.</div>
</div>
</div>
</div></blockquote>
</div>
<p class="rubric" id="step1-installunravelserveroncdh-cm-dohost-specificpost-installationactions">Do Host-Specific Post-Installation Actions</p>
<p>For CDH, there are no host-specific post-installation
actions.</p>
<p class="rubric" id="step1-installunravelserveroncdh-cm-3-configureunravelserver-basic-coreoptionalforcdh">3. Configure Unravel Server (Basic/Core Optional
for CDH)</p>
<p class="rubric" id="step1-installunravelserveroncdh-cm-enableoptionaldaemons">Enable Optional Daemons</p>
<p>Depending on your workload volume or kind of activity, you
can enable optional daemons at this point. See&nbsp;<a class="reference external" href="Creating-Multiple-Workers-for-High-Volume-Data_541131395.html">Creating
Multiple Workers for High Volume
Data</a>.</p>
<p class="rubric" id="step1-installunravelserveroncdh-cm-ifkerberosisenabled">If Kerberos is Enabled:</p>
<div class="docutils container">
<div class="expand-container docutils container" id="expander-1843118745">
<div class="expand-control docutils container" id="expander-control-1843118745">
Add authentication for HDFS…</div>
<div class="expand-content docutils container" id="expander-content-1843118745">
<p><a class="reference external" href="Alternate-Kerberos-Principal-for-Cluster-Access-on-CDH_541164128.html">Create</a>
or identify a principal and keytab for Unravel
daemons to access HDFS and REST when Kerberos is
enabled.</p>
<p>To get going faster, you can use the ‘hdfs’
principal which often has a pre-existing “headless”
keytab.</p>
<p>Add properties for Kerberos in
<code class="docutils literal notranslate"><span class="pre">/usr/local/unravel/etc/unravel.properties</span></code>&nbsp;(substitute
correct filename and principal):</p>
<div class="code panel pdl docutils container">
<div class="codecontent panelcontent pdl docutils container">
</div>
</div>
<p>You can verify the principal in a keytab by
using&nbsp;<code class="docutils literal notranslate"><span class="pre">klist</span> <span class="pre">-kt</span> <span class="pre">KETYAB_FILE.</span></code>The keytab file
should have chmod bits 500 and be owned
by&nbsp;<code class="docutils literal notranslate"><span class="pre">unravel</span></code>&nbsp;local user (default) or by the
user you want to use, as explained in&nbsp;<a class="reference external" href="Run-Unravel-Daemons-with-Custom-User_541033161.html">Run
Unravel Daemons with Custom
User</a>.</p>
</div>
</div>
</div>
<p class="rubric" id="step1-installunravelserveroncdh-cm-ifsentryisenabled">If Sentry is Enabled:</p>
<div class="docutils container">
<div class="expand-container docutils container" id="expander-1257977907">
<div class="expand-control docutils container" id="expander-control-1257977907">
Add these permissions…</div>
<div class="expand-content docutils container" id="expander-content-1257977907">
<p>For quicker setup, use the hdfs principal. For more
narrow privileges, define your own alt principal.
The alt user can be&nbsp;<code class="docutils literal notranslate"><span class="pre">unravel</span></code>&nbsp;(created
by&nbsp;<code class="docutils literal notranslate"><span class="pre">rpm</span></code>) or one of your choosing. The
corresponding kerberos principal does not need to
have the same name as the local user. The
user/principal here should correspond to the
<code class="docutils literal notranslate"><span class="pre">X</span></code>&nbsp;in the next section.</p>
<div class="table-wrap docutils container">
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Resource</th>
<th class="head">Principal</th>
<th class="head">Access</th>
<th class="head">Purpose</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hdfs://user/s</span>
<span class="pre">park/applicatio</span>
<span class="pre">nHistory</span></code></td>
<td>hdfs or alt</td>
<td>read</td>
<td>Spark event log</td>
</tr>
<tr class="row-odd"><td><a href="#id1"><span class="problematic" id="id2">``</span></a>hdfs://user/s
park/spark2Appl
icationHistory`
`</td>
<td>hdfs or alt</td>
<td>read</td>
<td>Spark 2 event
log</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hdfs://user/h</span>
<span class="pre">istory</span></code></td>
<td>hdfs or alt</td>
<td>read</td>
<td>MapReduce logs</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hdfs://tmp/lo</span>
<span class="pre">gs</span></code></td>
<td>hdfs or alt</td>
<td>read</td>
<td>YARN
aggregation
folder</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hdfs://user/h</span>
<span class="pre">ive/warehouse</span></code></td>
<td>hdfs or alt</td>
<td>read</td>
<td>Obtain table
partition sizes
with “stat”
only</td>
</tr>
</tbody>
</table>
</div>
<p>Please see&nbsp;<a class="reference external" href="Configure-Permission-for-Unravel-daemons-on-CDH-Sentry-Secured-Cluster_541360876.html">Configure Permission for Unravel
daemons on CDH Sentry Secured
Cluste</a>r
on how to configure permissions for unravel with a
Sentry enforced cluster.</p>
<p>You can find the principal by using <em>‘klist -kt
KEYTAB_FILE’</em></p>
<p>If you are using KMS and HDFS encryption and are
using the hdfs principal, you might need to
adjust&nbsp;<code class="docutils literal notranslate"><span class="pre">kms-acls.xml</span></code>*&nbsp;&nbsp;<em>permissions in CM
for&nbsp;DECRYPT_EEK if access is denied. In particular,
the “done” directory might not allow decryption of
logs by hdfs principal*.</em></p>
<p>If you are using “JNI” based groups for HDFS (a
setting in CM), then you will need to add
“<code class="docutils literal notranslate"><span class="pre">export</span> <span class="pre">LD_LIBRARY_PATH=/opt/cloudera/parcels/CDH/lib/hadoop/lib/native&quot;</span> <span class="pre">to</span> <span class="pre">/usr/local/unravel/etc/unravel.ext.sh</span></code></p>
</div>
</div>
</div>
<p class="rubric" id="step1-installunravelserveroncdh-cm-switchuser">Switch User</p>
<p>Depending on your cluster security configuration, you will
need to run the&nbsp;<code class="docutils literal notranslate"><span class="pre">switch_to_user</span></code>&nbsp;script. Dependencies
like kerberos and which target user you used for Sentry
affect this.</p>
<div class="docutils container">
<div class="code panel pdl docutils container">
<div class="codecontent panelcontent pdl docutils container">
</div>
</div>
</div>
<p>where&nbsp;<code class="docutils literal notranslate"><span class="pre">X&nbsp;``\</span> <span class="pre">and&nbsp;\</span> <span class="pre">``Y</span></code>&nbsp;depend on your environment. See
the
<a class="reference external" href="Run-Unravel-Daemons-with-Custom-User_541033161.html">switch_to_user</a>&nbsp;page.</p>
<p class="rubric" id="step1-installunravelserveroncdh-cm-hivemetastoreaccess">Hive Metastore Access</p>
<p>Hive metastore is accessed by Unravel server to analyze
table usage in conjunction with Hive job instrumentation.
Information is gathered using a Hive API that works very
much like beeline connections which leverage the jdbc
database connection protocol. As a quick-start approach, you
can set Unravel to use the already-defined ‘hive’ user that
is also used by HiveServer2. Alternatively, a read-only
metastore database user can be define. If you want a custom
user, then do the following steps for the particular kind of
database that is used for Hive metastore:</p>
<ol class="arabic simple">
<li>Connect to the Hive metastore using the normal
conversational interface (mysql or psql, etc.) as an
admin that can create new users.</li>
<li>Create a user, e.g.,&nbsp;<code class="docutils literal notranslate"><span class="pre">unravel</span></code>, allowing access from
the Unravel server host(s).</li>
<li>Grant select on all table in the hive database.</li>
<li>As the new user, use the&nbsp;conversational interface (mysql
or psql, etc.) from the Unravel server to verify their
access.</li>
</ol>
<p class="rubric" id="step1-installunravelserveroncdh-cm-restartunravelserver">Restart Unravel Server</p>
<p>After the edits to&nbsp;<code class="docutils literal notranslate"><span class="pre">com.unraveldata.login.admins</span></code>&nbsp;in
<code class="docutils literal notranslate"><span class="pre">/usr/local/unravel/etc/unravel.properties</span></code> it is
necessary to run the following script in order to make
changes take effect. The <code class="docutils literal notranslate"><span class="pre">echo</span></code> command shows the page to
visit with your browser. If you are using an ssh tunnel or
http proxy, you might need to make adjustments.</p>
<div class="docutils container">
<div class="code panel pdl docutils container">
<div class="codecontent panelcontent pdl docutils container">
</div>
</div>
</div>
<p>This completes the basic/core configuration.</p>
<p class="rubric" id="step1-installunravelserveroncdh-cm-4-logintounravelwebui">4. Log into Unravel Web UI</p>
<p>Using a web browser, navigate
to<code class="docutils literal notranslate"><span class="pre">http://{UNRAVEL_</span></code><code class="docutils literal notranslate"><span class="pre">HOST</span></code>_IP}:3000/ and login as
user <code class="docutils literal notranslate"><span class="pre">admin</span></code>&nbsp;with password <code class="docutils literal notranslate"><span class="pre">unraveldata</span></code>.&nbsp; Substitute a
fully qualified DNS or IP address for
<code class="docutils literal notranslate"><span class="pre">UNRAVEL_HOST</span></code>_IP.</p>
<div class="docutils container">
<p>confluence-information-macro confluence-information-macro-note</p>
<blockquote>
<div><div class="confluence-information-macro-body docutils container">
For the free trial version, use the Chrome web
browser.</div>
</div></blockquote>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p class="rubric" id="step1-installunravelserveroncdh-cm-congratulations">Congratulations!</p>
<p>Unravel Server is up and running. Unravel Web UI displays
collected data. For instructions on using Unravel Web UI,
see the <a class="reference external" href="User-Guide_541295329.html">User Guide</a>.</p>
<p class="rubric" id="step1-installunravelserveroncdh-cm-5-optional-configureunravelserver-advancedoptions">5. (Optional) Configure Unravel Server (Advanced
Options)</p>
<p class="rubric" id="step1-installunravelserveroncdh-cm-enableadditionaldatacollection-instrumentation">Enable Additional Data
Collection/Instrumentation</p>
<p>Install the Unravel Sensor Parcel on gateway/edge/client
nodes that are used to submit Hive queries to push
additional information to Unravel Server. For details, see
<a class="reference external" href="541229840.html">Step 2: Install Unravel Sensor Parcel on
CDH+CM</a>.</p>
<p class="rubric" id="step1-installunravelserveroncdh-cm-runtheunravelwebuiconfigurationwizard">Run the Unravel Web UI Configuration Wizard</p>
<p>Run the Unravel Web UI configuration wizard to choose
additional configuration options. For instructions on
configuring advanced options, see the <a class="reference external" href="User-Guide_541295329.html">User
Guide</a>.</p>
</div>
<div class="pagesection group docutils container">
<div class="pagesectionheader docutils container">
<p class="pagesectiontitle rubric" id="attachments">Attachments:</p>
</div>
<div class="greybox docutils container">
<a class="reference internal" href="images/icons/bullet_blue.gif"><img alt="image0" src="images/icons/bullet_blue.gif" style="width: 8px; height: 8px;" /></a>
<a class="reference external" href="attachments/541131652/541295616.png">image2017-2-26_0-20-12.png</a>
(image/png)</div>
</div>
</div>
</div>
<div class="docutils container" id="footer">
<div class="section footer-body docutils container">
<p>Document generated by Confluence on Nov 02, 2018 15:15</p>
<div class="docutils container" id="footer-logo">
<a class="reference external" href="http://www.atlassian.com/">Atlassian</a></div>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">UN45</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="userguide.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced-topics.html">Advanced Topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendices.html">Appendices</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="releasenotes.html">Release Notes</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Unravel Data. All rights reserved.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/installation-cdh-step1.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>